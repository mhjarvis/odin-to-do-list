(()=>{"use strict";class e{constructor(e,t=[]){this.title=e,this.tasks=t}}function t(t){return new e(t)}class n{constructor(e,t,n,o,c=!1){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.checked=c}}function o(e,t,o,c,s){return new n(e,t,o,c,s)}let c,s=[];const l=document.querySelector(".task-container");function r(e){c=e}function a(){return c}function i(e){s.push(e)}function d(){const e=document.querySelector(".project-container");if(e.innerHTML="",l.innerHTML="",0!=s.length){for(let t=0;t<s.length;t++){const n=document.createElement("div");n.id="p"+t,n.className="indProjDivs",e.appendChild(n);const o=document.getElementById("p"+t),c=document.createElement("h4");if(c.className="p"+t,c.innerText=s[t].title,o.appendChild(c),t>=3){const e=document.createElement("h5");e.className="p"+t,e.innerText="x",e.addEventListener("click",(function(e){console.log(t),s.splice(t,1),d()})),o.appendChild(e)}console.log("date")}if(s.length>0){let e=document.querySelector(".project-container").children;e[c].style.color="var(--darkGrayishBlue)",e[c].style.borderBottom="2px dashed var(--darkGrayishBlue",e[c].style.fontSize="2.5rem"}s[c].tasks.length>0&&function(){!function(){for(let e=0;e<s.length;e++)for(let t=0;t<s[e].tasks.length;t++)console.log("testetstet")}();for(let e=0;e<s[c].tasks.length;e++){const t=document.createElement("div");t.id=`p${a}t${e}`,t.className="task",l.appendChild(t);const n=document.getElementById(`p${a}t${e}`),o=document.createElement("INPUT");o.setAttribute("type","checkbox"),o.checked=s[c].tasks[e].checked,o.className="checkbox",1==s[c].tasks[e].checked&&(document.getElementById(`p${a}t${e}`).style.color="var(--veryDarkGrayishBlue)",document.getElementById(`p${a}t${e}`).style.textDecoration="line-through"),o.addEventListener("change",(function(){this.checked?(this.parentElement.style.color="var(--veryDarkGrayishBlue)",this.parentElement.style.textDecoration="line-through",s[c].tasks[e].checked=!0):(this.parentElement.style.color="var(--lightishGrayBlueHover)",this.parentElement.style.textDecoration="none",s[c].tasks[e].checked=!1)})),n.appendChild(o);const r=document.createElement("h6");r.className="task-title",r.innerText=s[c].tasks[e].title,n.appendChild(r);const i=document.createElement("input");i.type="date",i.className="date-input",i.id=`p${a}t${e}-date`,i.value=s[c].tasks[e].dueDate,i.min="2022-10-01",i.max="2099-12-31",console.log(i),n.appendChild(i)}}(),document.querySelectorAll(".project-container h4").forEach((e=>{e.addEventListener("click",(function(e){r(this.className.substring(1)),d()}))})),console.log(s)}}function u(){document.querySelector(".project-container");const e=document.querySelector(".new-project-button"),t=document.querySelector(".project-form-container");if("none"==e.style.display)return t.style.display="none",void(e.style.display="block");e.style.display="none",t.style.display="block"}function m(){const e=document.querySelector(".new-task-form"),t=document.querySelector(".new-task-button");if("none"==t.style.display)return e.style.display="none",void(t.style.display="block");t.style.display="none",e.style.display="block"}!function(){r(0);let e=t("Today"),n=t("Tomorrow"),c=t("Coming Soon");i(e),i(n),i(c),i(t("Random Things"));let l=o("Eat Breakfast","Various Foods","2022-10-25","high"),a=o("Buy Christmas Presents","none","2022-10-25","low",!0),u=o("Buy Presents","none","2022-10-26","low",!0);s[3].tasks.push(l),s[3].tasks.push(a),s[3].tasks.push(u),d()}(),function(){const e=document.querySelector(".new-project-button"),n=document.querySelector(".add-button"),l=document.querySelector(".cancel-button");e.addEventListener("click",(()=>{u()})),n.addEventListener("click",(function(e){e.preventDefault();let n=document.querySelector("#project-name"),o=t(n.value);n.value="",i(o),u(),d()})),l.addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#project-name").value="",u()}));const r=document.querySelector(".new-task-button");document.querySelectorAll(".project-container h4"),r.addEventListener("click",(()=>{document.querySelector(".task-container"),document.querySelector(".new-task-form"),m()})),document.querySelector(".task-add-button").addEventListener("click",(()=>{let e=document.querySelector("#task-title").value,t=o(e,"","","");var n;e="",n=t,s[c].tasks.push(n),m(),d()})),document.querySelector(".task-cancel-button").addEventListener("click",(()=>{m()})),document.querySelector(".delete-tasks").addEventListener("click",(function(e){let t=s[a()].tasks;console.log(t);for(let e=t.length-1;e>=0;e--)1==t[e].checked&&(n=e,s[c].tasks.splice(n,1),d());var n}))}()})();